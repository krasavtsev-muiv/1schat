// Страница FAQ
'use client';

import { useState } from 'react';

export default function FAQPage() {
  const [openIndex, setOpenIndex] = useState(null);

  const faqs = [
    {
      question: 'Как зарегистрироваться в системе?',
      answer: 'Для регистрации перейдите на страницу "Регистрация", выберите роль (студент или преподаватель), введите ваш код из системы 1С, выберите группу (для студентов) и создайте учетную запись. Система автоматически синхронизирует ваши данные из 1С.',
    },
    {
      question: 'Почему я не вижу всех студентов в контактах?',
      answer: 'Система автоматически фильтрует контакты для студентов: вы видите только одногруппников и студентов, с которыми у вас есть общие дисциплины. Преподаватели видят только студентов, которые изучают их дисциплины. Это сделано для удобства и релевантности контактов.',
    },
    {
      question: 'Как создать новый чат?',
      answer: 'В разделе "Чаты" нажмите кнопку "Создать чат" или выберите контакт из списка контактов. Для студентов автоматически создается групповой чат с одногруппниками при регистрации.',
    },
    {
      question: 'Что делать, если я забыл пароль?',
      answer: 'Используйте функцию восстановления пароля на странице входа. Вам потребуется указать ваш логин (код@фамилия) или email, и мы отправим инструкции по восстановлению.',
    },
    {
      question: 'Почему сообщения не приходят в реальном времени?',
      answer: 'Проверьте подключение к интернету. Система использует WebSocket для мгновенной доставки сообщений. Если проблема сохраняется, попробуйте обновить страницу или очистить кэш браузера.',
    },
    {
      question: 'Можно ли использовать систему на мобильных устройствах?',
      answer: 'Да, система адаптирована для работы на мобильных устройствах. Вы можете использовать веб-интерфейс в браузере вашего смартфона или планшета. Рекомендуется использовать современные браузеры (Chrome, Safari, Firefox).',
    },
    {
      question: 'Как синхронизируются данные с 1С?',
      answer: 'При каждом входе в систему происходит автоматическая синхронизация данных из 1С:Предприятие. Обновляются информация о группах, дисциплинах и связях между студентами и преподавателями. Администраторы могут управлять синхронизацией вручную через админ-панель.',
    },
    {
      question: 'Что делать, если мой код из 1С не принимается при регистрации?',
      answer: 'Убедитесь, что вы правильно ввели код и выбрали правильную группу (для студентов). Если код не принимается, обратитесь в техническую поддержку или к администратору системы. Возможно, ваш код еще не добавлен в систему 1С.',
    },
  ];

  const toggleFAQ = (index) => {
    setOpenIndex(openIndex === index ? null : index);
  };

  return (
    <div style={{ maxWidth: '900px', margin: '2rem auto', padding: '2rem' }}>
      <h1 style={{ color: '#0070f3', marginBottom: '1.5rem' }}>Часто задаваемые вопросы</h1>
      <p style={{ fontSize: '1.1rem', marginBottom: '2rem', color: '#6c757d' }}>
        Здесь собраны ответы на наиболее частые вопросы о работе системы. Если вы не нашли ответ на свой вопрос, 
        воспользуйтесь формой обратной связи.
      </p>
      
      {faqs.map((faq, index) => (
        <div 
          key={index} 
          style={{ 
            marginBottom: '1rem', 
            border: '1px solid #dee2e6', 
            borderRadius: '8px',
            overflow: 'hidden',
            background: '#fff'
          }}
        >
          <button
            onClick={() => toggleFAQ(index)}
            style={{
              width: '100%',
              padding: '1.25rem',
              background: openIndex === index ? '#e7f3ff' : '#f8f9fa',
              border: 'none',
              textAlign: 'left',
              cursor: 'pointer',
              display: 'flex',
              justifyContent: 'space-between',
              alignItems: 'center',
              fontSize: '1.05rem',
              fontWeight: '500',
              color: '#212529',
              transition: 'background 0.2s'
            }}
          >
            <span>{faq.question}</span>
            <span style={{ fontSize: '1.5rem', color: '#0070f3' }}>
              {openIndex === index ? '−' : '+'}
            </span>
          </button>
          {openIndex === index && (
            <div style={{ padding: '1.25rem', background: '#fff', borderTop: '1px solid #dee2e6', lineHeight: '1.6' }}>
              <p style={{ margin: 0, color: '#495057' }}>{faq.answer}</p>
            </div>
          )}
        </div>
      ))}
    </div>
  );
}

